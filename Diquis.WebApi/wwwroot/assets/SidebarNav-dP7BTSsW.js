import{j as a,L as x,r as c,a as S,B,c as N,R as C,m as R,b as T,d as m}from"./index-DZyfIAu_.js";import{S as D}from"./simplebar-react.esm-Cgqq1i5A.js";import{c as f}from"./clsx-CH7BE6MN.js";import{C as L}from"./Collapse-BDLgD-gn.js";import{l as A}from"./logo-CB5ymzH_.js";import{l as F}from"./logo-sm-5kybdBmh.js";import{u as w}from"./avatar-1-zYvbWrFt.js";import"./index-CeMukgnl.js";import"./TransitionWrapper-CsTLgaP5.js";import"./listen-DOhMskc_.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./setPrototypeOf-DgZC2w_0.js";import"./useMergedRefs-MQSzYiRk.js";const v=(e,r)=>{let l=[];const s=j(e,r.parentKey);return s&&(l.push(s.key),s.parentKey&&(l=[...l,...v(e,s)])),l},j=(e,r)=>{if(e&&r)for(var l=0;l<e.length;l++){if(e[l].key===r)return e[l];var s=j(e[l].children,r);if(s)return s}return null},O=({item:e,className:r})=>a.jsxs(x,{to:{pathname:e.url},target:e.target,className:f("side-nav-link-ref","side-sub-nav-link",r),"data-menu-key":e.key,children:[e.icon&&a.jsx("i",{className:e.icon}),e.badge&&a.jsx("span",{className:f("badge","bg-"+e.badge.variant,"rounded","font-10","float-end",{"text-dark":e.badge.variant==="light","text-light":e.badge.variant==="dark"||e.badge.variant==="secondary"}),children:e.badge.text}),a.jsxs("span",{children:[" ",e.label," "]})]}),E=({item:e,className:r,linkClassName:l})=>a.jsx("li",{className:f("side-nav-item",r),children:a.jsx(O,{item:e,className:l})}),M=({item:e,linkClassName:r,subMenuClassNames:l,activeMenuItems:s,toggleMenu:b})=>{const[o,p]=c.useState(s.includes(e.key)),{layoutStore:g}=S(),k=g.leftSideBarType===B.LEFT_SIDEBAR_TYPE_CONDENSED;c.useEffect(()=>{p(s.includes(e.key))},[s,e]);const y=i=>{i.preventDefault();const n=!o;return p(n),b&&b(e,n),!1};return a.jsxs("li",{className:N("side-nav-item",{"menuitem-active":o}),children:[a.jsxs(x,{to:"",onClick:y,"data-menu-key":e.key,"aria-expanded":o,className:r,children:[e.icon&&a.jsx("i",{className:e.icon}),e.badge?a.jsx("span",{className:`badge bg-${e.badge.variant} float-end`,children:e.badge.text}):a.jsx("span",{className:"menu-arrow"}),a.jsxs("span",{children:[" ",e.label," "]})]}),a.jsx(L,{in:o,children:a.jsx("div",{className:k?"collapse":"",children:a.jsx("ul",{className:N(l),id:"sidebarDashboards",children:(e.children||[]).map((i,n)=>a.jsx(C.Fragment,{children:i.children?a.jsx(M,{item:i,linkClassName:s.includes(i.key)?"active":"",activeMenuItems:s,subMenuClassNames:"side-nav-third-level",toggleMenu:b}):a.jsx(E,{item:i,className:s.includes(i.key)?"menuitem-active":"",linkClassName:s.includes(i.key)?"active":""})},n.toString()))})})})]})},P=({menuItems:e})=>{var i;let r=R();const{accountStore:l}=S(),{t:s}=T(),b=c.useRef(null),[o,p]=c.useState([]),g=c.useMemo(()=>e.filter(n=>{var t,u,d;return((u=n.roles)==null?void 0:u.includes(((t=l.currentUser)==null?void 0:t.roleId)||m.basic))||!n.roles||((d=n.roles)==null?void 0:d.length)==0}),[e,(i=l.currentUser)==null?void 0:i.roleId]),k=(n,t)=>{t&&p([n.key,...v(e,n)])},y=c.useCallback(()=>{const n=document.getElementById("main-side-menu");let t=null;if(n){let u=n.getElementsByClassName("side-nav-link-ref");for(let d=0;d<u.length;++d)if(r.pathname===u[d].pathname){t=u[d];break}if(t){const d=t.getAttribute("data-menu-key"),h=j(e,d);h&&p([h.key,...v(e,h)])}}},[r.pathname,e]);return c.useEffect(()=>{y()},[y]),a.jsx("ul",{className:"side-nav",ref:b,id:"main-side-menu",children:g.map((n,t)=>{const u=s(`sidebar.${n.key}`,n.label);return a.jsx(C.Fragment,{children:n.isTitle?a.jsx("li",{className:"side-nav-title",children:u}):a.jsx(a.Fragment,{children:n.children?a.jsx(M,{item:{...n,label:u},toggleMenu:k,subMenuClassNames:"side-nav-second-level",activeMenuItems:o,linkClassName:"side-nav-link"}):a.jsx(E,{item:{...n,label:u},linkClassName:"side-nav-link",className:`side-nav-item ${o.includes(n.key)?"menuitem-active":""}`})})},t.toString())})})},U=[{key:"app-products",label:"Products",icon:"uil-box",url:"/products"},{key:"app-user-management",label:"User Management",icon:"mdi mdi-account-outline",url:"/users",roles:[m.root,m.admin]},{key:"app-tenants",label:"Tenants",icon:"ri-bubble-chart-line",url:"/tenants",roles:[m.root]},{key:"template-resources",label:"Template Resources",isTitle:!0},{key:"base-ui",label:"Base UI",icon:"uil-apps",children:[{key:"base-ui-accordions",label:"Accordions",url:"/ui/accordions",parentKey:"base-ui"},{key:"base-ui-alerts",label:"Alerts",url:"/ui/alerts",parentKey:"base-ui"},{key:"base-ui-avatars",label:"Avatars",url:"/ui/avatars",parentKey:"base-ui"},{key:"base-ui-badges",label:"Badges",url:"/ui/badges",parentKey:"base-ui"},{key:"base-ui-buttons",label:"Buttons",url:"/ui/buttons",parentKey:"base-ui"},{key:"base-ui-cards",label:"Cards",url:"/ui/cards",parentKey:"base-ui"},{key:"base-ui-dropdowns",label:"Dropdowns",url:"/ui/dropdowns",parentKey:"base-ui"},{key:"base-ui-form-basic",label:"Form Basic",url:"/ui/form-basic",parentKey:"base-ui"},{key:"base-ui-form-advanced",label:"Form Advanced",url:"/ui/form-advanced",parentKey:"base-ui"},{key:"base-ui-list-group",label:"List Group",url:"/ui/list-group",parentKey:"base-ui"},{key:"base-ui-modals",label:"Modals",url:"/ui/modals",parentKey:"base-ui"},{key:"base-ui-offcanvas",label:"Offcanvas",url:"/ui/offcanvas",parentKey:"base-ui"},{key:"base-ui-pagination",label:"Pagination",url:"/ui/pagination",parentKey:"base-ui"},{key:"base-ui-popovers",label:"Popovers",url:"/ui/popovers",parentKey:"base-ui"},{key:"base-ui-progress",label:"Progress",url:"/ui/progress",parentKey:"base-ui"},{key:"base-ui-spinners",label:"Spinners",url:"/ui/spinners",parentKey:"base-ui"},{key:"base-ui-tables",label:"Tables",url:"/ui/tables",parentKey:"base-ui"},{key:"base-ui-tabs",label:"Tabs",url:"/ui/tabs",parentKey:"base-ui"},{key:"base-ui-tooltips",label:"Tooltips",url:"/ui/tooltips",parentKey:"base-ui"},{key:"base-ui-typography",label:"Typography",url:"/ui/typography",parentKey:"base-ui"}]},{key:"extended-ui",label:"Extended UI",icon:"uil-minus-path",children:[{key:"extended-ui-charts",label:"Charts",url:"/ui/charts",parentKey:"extended-ui"},{key:"extended-ui-dashboard",label:"Dashboard",url:"/ui/dashboard",parentKey:"extended-ui"},{key:"extended-ui-icons",label:"Icons",url:"/ui/icons",parentKey:"extended-ui",children:[{key:"extended-ui-icons-remix-icons",label:"Remix Icons",url:"/ui/icons/remix-icons",parentKey:"extended-ui-icons"},{key:"extended-ui-icons-mdi",label:"Material Design",url:"/ui/icons/mdi",parentKey:"extended-ui-icons"},{key:"extended-ui-icons-unicon-icons",label:"Unicons",url:"/ui/icons/unicons",parentKey:"extended-ui-icons"}]},{key:"extended-ui-dragula",label:"Dragula",url:"/ui/dragula",parentKey:"extended-ui"},{key:"extended-ui-range-sliders",label:"Range Sliders",url:"/ui/range-sliders",parentKey:"extended-ui"}]}],K=({hideUserProfile:e})=>a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"leftbar-user",children:a.jsxs(x,{to:"/",children:[a.jsx("img",{src:w,alt:"",height:"42",className:"rounded-circle shadow-sm"}),a.jsx("span",{className:"leftbar-user-name",children:"Dominic Keller"})]})}),a.jsx(P,{menuItems:U})]}),I=({isCondensed:e,hideLogo:r,hideUserProfile:l})=>{const s=c.useRef(null),b=o=>{if(s&&s.current&&s.current.contains(o.target))return;const p=document.querySelector("html");p&&p.classList.remove("sidebar-enable")};return c.useEffect(()=>(document.addEventListener("mousedown",b,!1),()=>{document.removeEventListener("mousedown",b,!1)}),[]),a.jsxs("div",{className:"leftside-menu",ref:s,children:[!r&&a.jsx(a.Fragment,{children:a.jsxs(x,{to:"/",className:"logo text-center",children:[a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:A,alt:"logo",style:{height:30}})}),a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:F,alt:"logo",style:{height:30}})})]})}),!e&&a.jsx(D,{style:{maxHeight:"100%"},timeout:500,scrollbarMaxSize:320,children:a.jsx(K,{hideUserProfile:l})}),e&&a.jsx(K,{hideUserProfile:l})]})};export{I as default};
