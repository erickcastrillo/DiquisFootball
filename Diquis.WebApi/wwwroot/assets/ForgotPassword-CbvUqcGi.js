import{o as y,a as v,r as w,j as e,Q as r,L as N}from"./index-DZyfIAu_.js";import{u as S,o as g}from"./yup-xyZlI54A.js";import{c as E,a as n,F as i}from"./object-DCB-L6RT.js";import{A as F}from"./AccountLayout-AKcFBKIZ.js";import"./world-BQlB_TTF.js";import{B as L}from"./Button-CbTZNhGo.js";import"./ElementChildren-ASgpluZ9.js";import"./Col-Cz1u6dla.js";import"./InputGroupContext-TwirTIt2.js";import"./logo-CB5ymzH_.js";import"./useAccountLayout-BAN3JUqb.js";import"./Card-BcnLHcba.js";import"./divWithClassName--d4LxeB8.js";import"./setPrototypeOf-DgZC2w_0.js";import"./warning-DRYvq3ZW.js";import"./clsx-CH7BE6MN.js";import"./Button-BuCi24HL.js";const k=()=>e.jsx("footer",{className:"footer footer-alt",children:e.jsx("small",{className:"text-muted",children:e.jsx(N,{to:"/login",className:"text-muted ms-1",children:"Return to Login"})})}),P=()=>{const{accountStore:m,tenantsStore:l}=v(),{loadTenantOptions:a,tenantOptions:c,loading:d}=l,p={email:"",password:"",tenant:"root"},u=E({tenant:n().required("Tenant key is required"),email:n().email("Must be a valid email").max(255).required("Email is required")}),x=S({defaultValues:p,resolver:g(u)}),{handleSubmit:h,register:o,control:f,formState:{errors:j}}=x,b=async t=>{const s=await m.forgotPassword(t);(s==null?void 0:s.succeeded)===!0?r.success("Password reset email sent"):r.error("Could not send email")};return w.useEffect(()=>{a()},[a]),e.jsx(F,{bottomLinks:e.jsx(k,{}),children:e.jsxs("div",{className:"my-auto",children:[e.jsx("h4",{className:"mt-0",children:"Forgot Password"}),e.jsx("p",{className:"text-muted mb-4",children:"Enter your email address to receive a password reset link."}),e.jsxs("form",{onSubmit:h(b),noValidate:!0,children:[e.jsx(i,{label:"Email",type:"text",placeholder:"name@example.com",containerClass:"mb-3",register:o,name:"email"}),e.jsx("div",{className:"d-grid mb-0 text-center",children:e.jsx(L,{variant:"primary",type:"submit",disabled:d,children:"Submit"})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("small",{className:"d-sm-flex d-none",children:"Specify the tenant with the dropdown. The Nano Boilerplate can resolve tenants by subdomain in real deployments."}),e.jsx(i,{type:"select",label:"Tenant",name:"tenant",containerClass:"mt-1 w-50",register:o,errors:j,control:f,children:c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))},"className")]})]})]})})},J=y(P);export{J as default};
