import{_ as q}from"./layout-XCMcHSfz.js";import{_ as B,m as F}from"./menu-options-A1bwnQrU.js";import{u as j,_ as O}from"./loading-button-BPnIwY7F.js";import{a as D,c as R,r as T,d as v,e as z,f as E,w as o,g as t,h as a,i as s,m as b,j as P,k as n,t as y,p as G,n as H}from"./index-BO7LP-gy.js";import{c as J,a as g,b as K}from"./index.esm-DqsvCYYq.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./logo-Jz-mcktN.js";const M=d=>(G("data-v-ad2fa50e"),d=d(),H(),d),Q={class:"page-nav-layout"},W={class:"page-nav-layout__nav-area"},X={class:"page-nav-layout__content"},Y={class:"card"},Z={class:"card-body"},ss=M(()=>t("div",{class:"form-block-title"},"Change your password",-1)),as={class:"form-layout__controls d-flex justify-content-end"},es={__name:"change-password",setup(d){const S=D(),C=J({password:g().min(8).required(),newPassword:g().min(8).required(),confirmNewPassword:g().oneOf([K("newPassword"),null],"Passwords must match").required()}),{handleSubmit:k,defineField:l,errors:i,meta:h,resetForm:x}=j({validationSchema:C}),[u,$]=l("password"),[c,A]=l("newPassword"),[m,I]=l("confirmNewPassword"),U=R(()=>h.value.dirty&&h.value.valid),p=T(!1),N=k(async V=>{p.value=!0,await S.updatePassword(V),x(),p.value=!1});return(V,e)=>{const f=v("b-form-input"),w=v("b-form-invalid-feedback"),_=v("b-form-group");return E(),z(q,null,{default:o(()=>[t("div",Q,[t("div",W,[a(B,{"menu-options":s(F)},null,8,["menu-options"])]),t("div",X,[t("div",Y,[t("div",Z,[ss,t("form",{class:"form-layout",onSubmit:e[3]||(e[3]=(...r)=>s(N)&&s(N)(...r))},[a(_,{label:"Current password","label-for":"password",class:"mb-2 current-password-input"},{default:o(()=>[a(f,b({type:"password"},s($),{modelValue:s(u),"onUpdate:modelValue":e[0]||(e[0]=r=>P(u)?u.value=r:null),id:"password",placeholder:"Current Password"}),null,16,["modelValue"]),a(w,{state:!1},{default:o(()=>[n(y(s(i).password),1)]),_:1})]),_:1}),a(_,{label:"New password","label-for":"newPassword",class:"mb-2"},{default:o(()=>[a(f,b({type:"password"},s(A),{modelValue:s(c),"onUpdate:modelValue":e[1]||(e[1]=r=>P(c)?c.value=r:null),id:"newPassword",placeholder:"New Password"}),null,16,["modelValue"]),a(w,{state:!1},{default:o(()=>[n(y(s(i).newPassword),1)]),_:1})]),_:1}),a(_,{label:"Confirm password","label-for":"confirmNewPassword",class:"mb-2"},{default:o(()=>[a(f,b({type:"password"},s(I),{modelValue:s(m),"onUpdate:modelValue":e[2]||(e[2]=r=>P(m)?m.value=r:null),id:"confirmNewPassword",placeholder:"Confirm Password"}),null,16,["modelValue"]),a(w,{state:!1},{default:o(()=>[n(y(s(i).confirmNewPassword),1)]),_:1})]),_:1}),t("div",as,[a(O,{variant:"primary",type:"submit",disabled:!U.value,loading:p.value},{default:o(()=>[n("Save Changes")]),_:1},8,["disabled","loading"])])],32)])])])])]),_:1})}}},us=L(es,[["__scopeId","data-v-ad2fa50e"]]);export{us as default};
