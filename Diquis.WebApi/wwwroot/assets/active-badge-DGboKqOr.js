import{s as H,r as k,c as C,d,l,f as e,g as n,h as b,v as _,x as L,y as U,w as c,e as m,F as f,z as v,i as u,A as q,B as P,t as M,q as E}from"./index-BO7LP-gy.js";import{u as G,F,g as Y,a as J,b as K,c as Q}from"./avatar-title-group-BK_MrQxr.js";import{s as W}from"./layout-XCMcHSfz.js";const X={class:"card"},Z={class:"card-body"},O={class:"row align-items-end"},ee={class:"col-sm-4 mb-2"},te=n("label",{for:"searchInput",class:"form-label"},"Search:",-1),oe=["placeholder"],ae=n("div",{class:"col-sm-8 mb-2"},[n("div",{class:"text-sm-end"})],-1),se={key:0,class:"d-flex justify-content-center p-4"},ne=n("span",{class:"spinner-border spinner-border-sm avatar-sm text-primary",role:"status","aria-hidden":"true"},null,-1),le=[ne],re={class:"table-footer"},ie={class:"table-footer__info"},ce={key:0},de={class:"table-footer__controls"},ue=["value"],ge=["value"],pe={key:1,class:"pagination pagination-rounded mb-0"},fe={__name:"client-table",props:{data:Object,columns:Array,loading:Boolean,filterPlaceholder:String},setup(g){const h=H(),i=g,y=[5,10,25,50],S=k([]),w=k(""),p=k(1),t=G({get data(){return i.data},get columns(){return i.columns},getCoreRowModel:Q(),getPaginationRowModel:K(),getSortedRowModel:J(),getFilteredRowModel:Y(),initialState:{pagination:{pageSize:h.pageSize}},state:{get sorting(){return S.value},get globalFilter(){return w.value}},onSortingChange:s=>{S.value=typeof s=="function"?s(S.value):s}});function D(s){const r=s?Number(s)-1:0;p.value=r+1,t.setPageIndex(r)}function N(s){t.setPageSize(Number(s.target.value))}const V=C(()=>{let s=t.getState().pagination.pageSize*p.value-t.getState().pagination.pageSize+1,r=t.getState().pagination.pageSize*p.value,x=Math.ceil(t.getFilteredRowModel().rows.length/t.getState().pagination.pageSize);return p.value==x&&(r=t.getFilteredRowModel().rows.length),t.getFilteredRowModel().rows.length==0?"No results":"Showing "+s+" to "+r+" of "+t.getFilteredRowModel().rows.length+" entries"});return(s,r)=>{const x=d("b-th"),z=d("b-tr"),B=d("b-thead"),T=d("b-td"),A=d("b-tbody"),I=d("b-table-simple"),$=d("b-pagination");return e(),l("div",X,[n("div",Z,[n("div",O,[n("div",ee,[te,L(n("input",{id:"searchInput",type:"text",placeholder:i.filterPlaceholder,class:"form-control","onUpdate:modelValue":r[0]||(r[0]=a=>w.value=a),style:{"max-width":"250px"}},null,8,oe),[[U,w.value]])]),ae]),b(u(W),{class:"table-responsive","data-simplebar-auto-hide":"false"},{default:c(()=>[b(I,{class:"table table-striped table-centered w-100 nowrap dataTable"},{default:c(()=>[b(B,null,{default:c(()=>[(e(!0),l(f,null,v(u(t).getHeaderGroups(),a=>(e(),m(z,{key:a.id},{default:c(()=>[(e(!0),l(f,null,v(a.headers,o=>(e(),m(x,{key:o.id,colSpan:o.colSpan,onClick:j=>{var R;return(R=o.column.getToggleSortingHandler())==null?void 0:R(j)},class:P({sorting:o.column.columnDef.enableSorting,sorting_desc:o.column.getIsSorted()=="desc",sorting_asc:o.column.getIsSorted()=="asc"}),style:q({width:`${o.getSize()}px`})},{default:c(()=>[o.isPlaceholder?_("",!0):(e(),m(u(F),{key:0,render:o.column.columnDef.label,props:o.getContext()},null,8,["render","props"]))]),_:2},1032,["colSpan","onClick","class","style"]))),128))]),_:2},1024))),128))]),_:1}),g.loading?_("",!0):(e(),m(A,{key:0},{default:c(()=>[(e(!0),l(f,null,v(u(t).getRowModel().rows,a=>(e(),m(z,{key:a.id},{default:c(()=>[(e(!0),l(f,null,v(a.getVisibleCells(),o=>(e(),m(T,{key:o.id},{default:c(()=>[b(u(F),{render:o.column.columnDef.cell,props:o.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1}),g.loading?(e(),l("div",se,le)):_("",!0),n("div",re,[n("div",ie,[g.loading?_("",!0):(e(),l("span",ce,M(V.value),1))]),n("div",de,[E(s.$slots,"export"),i.pagination?(e(),l("select",{key:0,class:"form-select",value:u(t).getState().pagination.pageSize,onChange:N},[(e(),l(f,null,v(y,a=>n("option",{key:a,value:a},M(a),9,ge)),64))],40,ue)):_("",!0),i.pagination?(e(),l("ul",pe,[b($,{modelValue:p.value,"onUpdate:modelValue":[r[1]||(r[1]=a=>p.value=a),D],"total-rows":i.data.length,"per-page":u(t).getState().pagination.pageSize,class:"pagination-rounded"},null,8,["modelValue","total-rows","per-page"])])):_("",!0)])])])])}}},ve={__name:"active-badge",props:["isActive"],setup(g){const h=g,i=C(()=>{switch(h.isActive){case!0:return"text-success";case!1:return"text-danger"}}),y=C(()=>{switch(h.isActive){case!0:return"Yes";case!1:return"No"}});return(S,w)=>(e(),l("strong",{class:P(["text-capitalize",i.value])},M(y.value),3))}};export{ve as _,fe as a};
