import{j as a,L as x,r as d,a as K,A as M,c as j,R as S,l as R,b as m}from"./index-B9lOP-LQ.js";import{S as B}from"./simplebar-react.esm-bGe56t2G.js";import{c as h}from"./clsx-CH7BE6MN.js";import{C as T}from"./Collapse-DtjW9meZ.js";import{l as A}from"./logo-CjI6dXrc.js";import{l as D}from"./logo-sm-BkaIitK6.js";import{u as L}from"./avatar-1-zYvbWrFt.js";import"./index-CF5aMJY4.js";import"./TransitionWrapper-BLPpPSai.js";import"./listen-DOhMskc_.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./setPrototypeOf-DgZC2w_0.js";import"./useMergedRefs-DJgFqpix.js";const f=(e,r)=>{let l=[];const n=v(e,r.parentKey);return n&&(l.push(n.key),n.parentKey&&(l=[...l,...f(e,n)])),l},v=(e,r)=>{if(e&&r)for(var l=0;l<e.length;l++){if(e[l].key===r)return e[l];var n=v(e[l].children,r);if(n)return n}return null},F=({item:e,className:r})=>a.jsxs(x,{to:{pathname:e.url},target:e.target,className:h("side-nav-link-ref","side-sub-nav-link",r),"data-menu-key":e.key,children:[e.icon&&a.jsx("i",{className:e.icon}),e.badge&&a.jsx("span",{className:h("badge","bg-"+e.badge.variant,"rounded","font-10","float-end",{"text-dark":e.badge.variant==="light","text-light":e.badge.variant==="dark"||e.badge.variant==="secondary"}),children:e.badge.text}),a.jsxs("span",{children:[" ",e.label," "]})]}),C=({item:e,className:r,linkClassName:l})=>a.jsx("li",{className:h("side-nav-item",r),children:a.jsx(F,{item:e,className:l})}),E=({item:e,linkClassName:r,subMenuClassNames:l,activeMenuItems:n,toggleMenu:t})=>{const[u,c]=d.useState(n.includes(e.key)),{layoutStore:g}=K(),p=g.leftSideBarType===M.LEFT_SIDEBAR_TYPE_CONDENSED;d.useEffect(()=>{c(n.includes(e.key))},[n,e]);const y=s=>{s.preventDefault();const i=!u;return c(i),t&&t(e,i),!1};return a.jsxs("li",{className:j("side-nav-item",{"menuitem-active":u}),children:[a.jsxs(x,{to:"",onClick:y,"data-menu-key":e.key,"aria-expanded":u,className:r,children:[e.icon&&a.jsx("i",{className:e.icon}),e.badge?a.jsx("span",{className:`badge bg-${e.badge.variant} float-end`,children:e.badge.text}):a.jsx("span",{className:"menu-arrow"}),a.jsxs("span",{children:[" ",e.label," "]})]}),a.jsx(T,{in:u,children:a.jsx("div",{className:p?"collapse":"",children:a.jsx("ul",{className:j(l),id:"sidebarDashboards",children:(e.children||[]).map((s,i)=>a.jsx(S.Fragment,{children:s.children?a.jsx(E,{item:s,linkClassName:n.includes(s.key)?"active":"",activeMenuItems:n,subMenuClassNames:"side-nav-third-level",toggleMenu:t}):a.jsx(C,{item:s,className:n.includes(s.key)?"menuitem-active":"",linkClassName:n.includes(s.key)?"active":""})},i.toString()))})})})]})},w=({menuItems:e})=>{var y;let r=R();const{accountStore:l}=K(),n=d.useRef(null),[t,u]=d.useState([]),c=d.useMemo(()=>e.filter(s=>{var i,b,o;return((b=s.roles)==null?void 0:b.includes(((i=l.currentUser)==null?void 0:i.roleId)||m.basic))||!s.roles||((o=s.roles)==null?void 0:o.length)==0}),[e,(y=l.currentUser)==null?void 0:y.roleId]),g=(s,i)=>{i&&u([s.key,...f(e,s)])},p=d.useCallback(()=>{const s=document.getElementById("main-side-menu");let i=null;if(s){let b=s.getElementsByClassName("side-nav-link-ref");for(let o=0;o<b.length;++o)if(r.pathname===b[o].pathname){i=b[o];break}if(i){const o=i.getAttribute("data-menu-key"),k=v(e,o);k&&u([k.key,...f(e,k)])}}},[r.pathname,e]);return d.useEffect(()=>{p()},[p]),a.jsx("ul",{className:"side-nav",ref:n,id:"main-side-menu",children:c.map((s,i)=>a.jsx(S.Fragment,{children:s.isTitle?a.jsx("li",{className:"side-nav-title",children:s.label}):a.jsx(a.Fragment,{children:s.children?a.jsx(E,{item:s,toggleMenu:g,subMenuClassNames:"side-nav-second-level",activeMenuItems:t,linkClassName:"side-nav-link"}):a.jsx(C,{item:s,linkClassName:"side-nav-link",className:`side-nav-item ${t.includes(s.key)?"menuitem-active":""}`})})},i.toString()))})},O=[{key:"app-products",label:"Products",icon:"uil-box",url:"/products"},{key:"app-user-management",label:"User Management",icon:"mdi mdi-account-outline",url:"/users",roles:[m.root,m.admin]},{key:"app-tenants",label:"Tenants",icon:"ri-bubble-chart-line",url:"/tenants",roles:[m.root]},{key:"template-resources",label:"Template Resources",isTitle:!0},{key:"base-ui",label:"Base UI",icon:"uil-apps",children:[{key:"base-ui-accordions",label:"Accordions",url:"/ui/accordions",parentKey:"base-ui"},{key:"base-ui-alerts",label:"Alerts",url:"/ui/alerts",parentKey:"base-ui"},{key:"base-ui-avatars",label:"Avatars",url:"/ui/avatars",parentKey:"base-ui"},{key:"base-ui-badges",label:"Badges",url:"/ui/badges",parentKey:"base-ui"},{key:"base-ui-buttons",label:"Buttons",url:"/ui/buttons",parentKey:"base-ui"},{key:"base-ui-cards",label:"Cards",url:"/ui/cards",parentKey:"base-ui"},{key:"base-ui-dropdowns",label:"Dropdowns",url:"/ui/dropdowns",parentKey:"base-ui"},{key:"base-ui-form-basic",label:"Form Basic",url:"/ui/form-basic",parentKey:"base-ui"},{key:"base-ui-form-advanced",label:"Form Advanced",url:"/ui/form-advanced",parentKey:"base-ui"},{key:"base-ui-list-group",label:"List Group",url:"/ui/list-group",parentKey:"base-ui"},{key:"base-ui-modals",label:"Modals",url:"/ui/modals",parentKey:"base-ui"},{key:"base-ui-offcanvas",label:"Offcanvas",url:"/ui/offcanvas",parentKey:"base-ui"},{key:"base-ui-pagination",label:"Pagination",url:"/ui/pagination",parentKey:"base-ui"},{key:"base-ui-popovers",label:"Popovers",url:"/ui/popovers",parentKey:"base-ui"},{key:"base-ui-progress",label:"Progress",url:"/ui/progress",parentKey:"base-ui"},{key:"base-ui-spinners",label:"Spinners",url:"/ui/spinners",parentKey:"base-ui"},{key:"base-ui-tables",label:"Tables",url:"/ui/tables",parentKey:"base-ui"},{key:"base-ui-tabs",label:"Tabs",url:"/ui/tabs",parentKey:"base-ui"},{key:"base-ui-tooltips",label:"Tooltips",url:"/ui/tooltips",parentKey:"base-ui"},{key:"base-ui-typography",label:"Typography",url:"/ui/typography",parentKey:"base-ui"}]},{key:"extended-ui",label:"Extended UI",icon:"uil-minus-path",children:[{key:"extended-ui-charts",label:"Charts",url:"/ui/charts",parentKey:"extended-ui"},{key:"extended-ui-dashboard",label:"Dashboard",url:"/ui/dashboard",parentKey:"extended-ui"},{key:"extended-ui-icons",label:"Icons",url:"/ui/icons",parentKey:"extended-ui",children:[{key:"extended-ui-icons-remix-icons",label:"Remix Icons",url:"/ui/icons/remix-icons",parentKey:"extended-ui-icons"},{key:"extended-ui-icons-mdi",label:"Material Design",url:"/ui/icons/mdi",parentKey:"extended-ui-icons"},{key:"extended-ui-icons-unicon-icons",label:"Unicons",url:"/ui/icons/unicons",parentKey:"extended-ui-icons"}]},{key:"extended-ui-dragula",label:"Dragula",url:"/ui/dragula",parentKey:"extended-ui"},{key:"extended-ui-range-sliders",label:"Range Sliders",url:"/ui/range-sliders",parentKey:"extended-ui"}]}],N=({hideUserProfile:e})=>a.jsxs(a.Fragment,{children:[!e&&a.jsx("div",{className:"leftbar-user",children:a.jsxs(x,{to:"/",children:[a.jsx("img",{src:L,alt:"",height:"42",className:"rounded-circle shadow-sm"}),a.jsx("span",{className:"leftbar-user-name",children:"Dominic Keller"})]})}),a.jsx(w,{menuItems:O})]}),X=({isCondensed:e,hideLogo:r,hideUserProfile:l})=>{const n=d.useRef(null),t=u=>{if(n&&n.current&&n.current.contains(u.target))return;const c=document.querySelector("html");c&&c.classList.remove("sidebar-enable")};return d.useEffect(()=>(document.addEventListener("mousedown",t,!1),()=>{document.removeEventListener("mousedown",t,!1)}),[]),a.jsxs("div",{className:"leftside-menu",ref:n,children:[!r&&a.jsx(a.Fragment,{children:a.jsxs(x,{to:"/",className:"logo text-center",children:[a.jsx("span",{className:"logo-lg",children:a.jsx("img",{src:A,alt:"logo",style:{height:30}})}),a.jsx("span",{className:"logo-sm",children:a.jsx("img",{src:D,alt:"logo",style:{height:30}})})]})}),!e&&a.jsx(B,{style:{maxHeight:"100%"},timeout:500,scrollbarMaxSize:320,children:a.jsx(N,{hideUserProfile:l})}),e&&a.jsx(N,{hideUserProfile:l})]})};export{X as default};
