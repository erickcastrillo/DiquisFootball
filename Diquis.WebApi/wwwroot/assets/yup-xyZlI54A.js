import{r as k,j as w,c as M,P as fe,u as $,R as S}from"./index-DZyfIAu_.js";import{h as Xt}from"./ElementChildren-ASgpluZ9.js";import{C as Yt}from"./Col-Cz1u6dla.js";import{c as Zt}from"./InputGroupContext-TwirTIt2.js";const zt={type:fe.string,tooltip:fe.bool,as:fe.elementType},Ee=k.forwardRef(({as:e="div",className:s,type:t="valid",tooltip:r=!1,...a},n)=>w.jsx(e,{...a,ref:n,className:M(s,`${t}-${r?"tooltip":"feedback"}`)}));Ee.displayName="Feedback";Ee.propTypes=zt;const P=k.createContext({}),ve=k.forwardRef(({id:e,bsPrefix:s,className:t,type:r="checkbox",isValid:a=!1,isInvalid:n=!1,as:u="input",...v},y)=>{const{controlId:m}=k.useContext(P);return s=$(s,"form-check-input"),w.jsx(u,{...v,ref:y,type:r,id:e||m,className:M(t,s,a&&"is-valid",n&&"is-invalid")})});ve.displayName="FormCheckInput";const Ve=k.forwardRef(({bsPrefix:e,className:s,htmlFor:t,...r},a)=>{const{controlId:n}=k.useContext(P);return e=$(e,"form-check-label"),w.jsx("label",{...r,ref:a,htmlFor:t||n,className:M(s,e)})});Ve.displayName="FormCheckLabel";const vt=k.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:t,inline:r=!1,reverse:a=!1,disabled:n=!1,isValid:u=!1,isInvalid:v=!1,feedbackTooltip:y=!1,feedback:m,feedbackType:_,className:b,style:p,title:I="",type:T="checkbox",label:ie,children:ee,as:de="input",...F},B)=>{s=$(s,"form-check"),t=$(t,"form-switch");const{controlId:q}=k.useContext(P),R=k.useMemo(()=>({controlId:e||q}),[q,e]),te=!ee&&ie!=null&&ie!==!1||Xt(ee,Ve),re=w.jsx(ve,{...F,type:T==="switch"?"checkbox":T,ref:B,isValid:u,isInvalid:v,disabled:n,as:de});return w.jsx(P.Provider,{value:R,children:w.jsx("div",{style:p,className:M(b,te&&s,r&&`${s}-inline`,a&&`${s}-reverse`,T==="switch"&&t),children:ee||w.jsxs(w.Fragment,{children:[re,te&&w.jsx(Ve,{title:I,children:ie}),m&&w.jsx(Ee,{type:_,tooltip:y,children:m})]})})})});vt.displayName="FormCheck";const we=Object.assign(vt,{Input:ve,Label:Ve}),gt=k.forwardRef(({bsPrefix:e,type:s,size:t,htmlSize:r,id:a,className:n,isValid:u=!1,isInvalid:v=!1,plaintext:y,readOnly:m,as:_="input",...b},p)=>{const{controlId:I}=k.useContext(P);return e=$(e,"form-control"),w.jsx(_,{...b,type:s,size:r,ref:p,readOnly:m,id:a||I,className:M(n,y?`${e}-plaintext`:e,t&&`${e}-${t}`,s==="color"&&`${e}-color`,u&&"is-valid",v&&"is-invalid")})});gt.displayName="FormControl";const Pt=Object.assign(gt,{Feedback:Ee}),mt=k.forwardRef(({className:e,bsPrefix:s,as:t="div",...r},a)=>(s=$(s,"form-floating"),w.jsx(t,{ref:a,className:M(e,s),...r})));mt.displayName="FormFloating";const qe=k.forwardRef(({controlId:e,as:s="div",...t},r)=>{const a=k.useMemo(()=>({controlId:e}),[e]);return w.jsx(P.Provider,{value:a,children:w.jsx(s,{...t,ref:r})})});qe.displayName="FormGroup";const pt=k.forwardRef(({as:e="label",bsPrefix:s,column:t=!1,visuallyHidden:r=!1,className:a,htmlFor:n,...u},v)=>{const{controlId:y}=k.useContext(P);s=$(s,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const _=M(a,s,r&&"visually-hidden",t&&m);return n=n||y,t?w.jsx(Yt,{ref:v,as:"label",className:_,htmlFor:n,...u}):w.jsx(e,{ref:v,className:_,htmlFor:n,...u})});pt.displayName="FormLabel";const _t=k.forwardRef(({bsPrefix:e,className:s,id:t,...r},a)=>{const{controlId:n}=k.useContext(P);return e=$(e,"form-range"),w.jsx("input",{...r,type:"range",ref:a,className:M(s,e),id:t||n})});_t.displayName="FormRange";const Ft=k.forwardRef(({bsPrefix:e,size:s,htmlSize:t,className:r,isValid:a=!1,isInvalid:n=!1,id:u,...v},y)=>{const{controlId:m}=k.useContext(P);return e=$(e,"form-select"),w.jsx("select",{...v,size:t,ref:y,className:M(r,e,s&&`${e}-${s}`,a&&"is-valid",n&&"is-invalid"),id:u||m})});Ft.displayName="FormSelect";const bt=k.forwardRef(({bsPrefix:e,className:s,as:t="small",muted:r,...a},n)=>(e=$(e,"form-text"),w.jsx(t,{...a,ref:n,className:M(s,e,r&&"text-muted")})));bt.displayName="FormText";const xt=k.forwardRef((e,s)=>w.jsx(we,{...e,ref:s,type:"switch"}));xt.displayName="Switch";const er=Object.assign(xt,{Input:we.Input,Label:we.Label}),Vt=k.forwardRef(({bsPrefix:e,className:s,children:t,controlId:r,label:a,...n},u)=>(e=$(e,"form-floating"),w.jsxs(qe,{ref:u,className:M(s,e),controlId:r,...n,children:[t,w.jsx("label",{htmlFor:r,children:a})]})));Vt.displayName="FloatingLabel";const tr={_ref:fe.any,validated:fe.bool,as:fe.elementType},Ge=k.forwardRef(({className:e,validated:s,as:t="form",...r},a)=>w.jsx(t,{...r,ref:a,className:M(e,s&&"was-validated")}));Ge.displayName="Form";Ge.propTypes=tr;const Dr=Object.assign(Ge,{Group:qe,Control:Pt,Floating:mt,Check:we,Switch:er,Label:pt,Text:bt,Range:_t,Select:Ft,FloatingLabel:Vt}),Re=k.forwardRef(({className:e,bsPrefix:s,as:t="span",...r},a)=>(s=$(s,"input-group-text"),w.jsx(t,{ref:a,className:M(e,s),...r})));Re.displayName="InputGroupText";const rr=e=>w.jsx(Re,{children:w.jsx(ve,{type:"checkbox",...e})}),sr=e=>w.jsx(Re,{children:w.jsx(ve,{type:"radio",...e})}),wt=k.forwardRef(({bsPrefix:e,size:s,hasValidation:t,className:r,as:a="div",...n},u)=>{e=$(e,"input-group");const v=k.useMemo(()=>({}),[]);return w.jsx(Zt.Provider,{value:v,children:w.jsx(a,{ref:u,...n,className:M(r,e,s&&`${e}-${s}`,t&&"has-validation")})})});wt.displayName="InputGroup";const Er=Object.assign(wt,{Text:Re,Radio:sr,Checkbox:rr});var ge=e=>e.type==="checkbox",ce=e=>e instanceof Date,L=e=>e==null;const At=e=>typeof e=="object";var O=e=>!L(e)&&!Array.isArray(e)&&At(e)&&!ce(e),kt=e=>O(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,ir=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ct=(e,s)=>e.has(ir(s)),ar=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},We=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function H(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(We&&(e instanceof Blob||e instanceof FileList))&&(t||O(e)))if(s=t?[]:{},!t&&!ar(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=H(e[r]));else return e;return s}var me=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,f=(e,s,t)=>{if(!s||!O(e))return t;const r=me(s.split(/[,[\].]+?/)).reduce((a,n)=>L(a)?a:a[n],e);return D(r)||r===e?D(e[s])?t:e[s]:r},X=e=>typeof e=="boolean";const Ae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},St=S.createContext(null),He=()=>S.useContext(St),Rr=e=>{const{children:s,...t}=e;return S.createElement(St.Provider,{value:t},s)};var Dt=(e,s,t,r=!0)=>{const a={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const u=n;return s._proxyFormState[u]!==K.all&&(s._proxyFormState[u]=!r||K.all),t&&(t[u]=!0),e[u]}});return a},W=e=>O(e)&&!Object.keys(e).length,Et=(e,s,t,r)=>{t(e);const{name:a,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(u=>s[u]===(!r||K.all))},Fe=e=>Array.isArray(e)?e:[e],Rt=(e,s,t)=>!e||!s||e===s||Fe(e).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r)));function Ke(e){const s=S.useRef(e);s.current=e,S.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function nr(e){const s=He(),{control:t=s.control,disabled:r,name:a,exact:n}=e||{},[u,v]=S.useState(t._formState),y=S.useRef(!0),m=S.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),_=S.useRef(a);return _.current=a,Ke({disabled:r,next:b=>y.current&&Rt(_.current,b.name,n)&&Et(b,m.current,t._updateFormState)&&v({...t._formState,...b}),subject:t._subjects.state}),S.useEffect(()=>(y.current=!0,m.current.isValid&&t._updateValid(!0),()=>{y.current=!1}),[t]),Dt(u,t,m.current,!1)}var Y=e=>typeof e=="string",Nt=(e,s,t,r,a)=>Y(e)?(r&&s.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(n=>(r&&s.watch.add(n),f(t,n))):(r&&(s.watchAll=!0),t);function or(e){const s=He(),{control:t=s.control,name:r,defaultValue:a,disabled:n,exact:u}=e||{},v=S.useRef(r);v.current=r,Ke({disabled:n,subject:t._subjects.values,next:_=>{Rt(v.current,_.name,u)&&m(H(Nt(v.current,t._names,_.values||t._formValues,!1,a)))}});const[y,m]=S.useState(t._getWatch(r,a));return S.useEffect(()=>t._removeUnmounted()),y}var Je=e=>/^\w*$/.test(e),Tt=e=>me(e.replace(/["|']|\]/g,"").split(/\.|\[/));function A(e,s,t){let r=-1;const a=Je(s)?[s]:Tt(s),n=a.length,u=n-1;for(;++r<n;){const v=a[r];let y=t;if(r!==u){const m=e[v];y=O(m)||Array.isArray(m)?m:isNaN(+a[r+1])?{}:[]}e[v]=y,e=e[v]}return e}function lr(e){const s=He(),{name:t,disabled:r,control:a=s.control,shouldUnregister:n}=e,u=Ct(a._names.array,t),v=or({control:a,name:t,defaultValue:f(a._formValues,t,f(a._defaultValues,t,e.defaultValue)),exact:!0}),y=nr({control:a,name:t}),m=S.useRef(a.register(t,{...e.rules,value:v}));return m.current=a.register(t,e.rules),S.useEffect(()=>{const _=a._options.shouldUnregister||n,b=(p,I)=>{const T=f(a._fields,p);T&&(T._f.mount=I)};if(b(t,!0),_){const p=H(f(a._options.defaultValues,t));A(a._defaultValues,t,p),D(f(a._formValues,t))&&A(a._formValues,t,p)}return()=>{(u?_&&!a._state.action:_)?a.unregister(t):b(t,!1)}},[t,a,u,n]),S.useEffect(()=>{f(a._fields,t)&&a._updateDisabledField({disabled:r,fields:a._fields,name:t,value:f(a._fields,t)._f.value})},[r,t,a]),{field:{name:t,value:v,...X(r)||X(y.disabled)?{disabled:y.disabled||r}:{},onChange:S.useCallback(_=>m.current.onChange({target:{value:kt(_),name:t},type:Ae.CHANGE}),[t]),onBlur:S.useCallback(()=>m.current.onBlur({target:{value:f(a._formValues,t),name:t},type:Ae.BLUR}),[t,a]),ref:_=>{const b=f(a._fields,t);b&&_&&(b._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:p=>_.setCustomValidity(p),reportValidity:()=>_.reportValidity()})}},formState:y,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(y.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(y.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(y.touchedFields,t)},error:{enumerable:!0,get:()=>f(y.errors,t)}})}}const Nr=e=>e.render(lr(e));var Ot=(e,s,t,r,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:a||!0}}:{},nt=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),ot=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const be=(e,s,t,r)=>{for(const a of t||Object.keys(e)){const n=f(e,a);if(n){const{_f:u,...v}=n;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],a)&&!r)break;if(u.ref&&s(u.ref,u.name)&&!r)break}else O(v)&&be(v,s)}}};var ur=(e,s,t)=>{const r=me(f(e,t));return A(r,"root",s[t]),A(e,t,r),e},Qe=e=>e.type==="file",se=e=>typeof e=="function",ke=e=>{if(!We)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},xe=e=>Y(e),Xe=e=>e.type==="radio",Ce=e=>e instanceof RegExp;const lt={value:!1,isValid:!1},ut={value:!0,isValid:!0};var jt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?ut:{value:e[0].value,isValid:!0}:ut:lt}return lt};const ct={isValid:!1,value:null};var Lt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,ct):ct;function ft(e,s,t="validate"){if(xe(e)||Array.isArray(e)&&e.every(xe)||X(e)&&!e)return{type:t,message:xe(e)?e:"",ref:s}}var ue=e=>O(e)&&!Ce(e)?e:{value:e,message:""},dt=async(e,s,t,r,a)=>{const{ref:n,refs:u,required:v,maxLength:y,minLength:m,min:_,max:b,pattern:p,validate:I,name:T,valueAsNumber:ie,mount:ee,disabled:de}=e._f,F=f(s,T);if(!ee||de)return{};const B=u?u[0]:n,q=V=>{r&&B.reportValidity&&(B.setCustomValidity(X(V)?"":V||""),B.reportValidity())},R={},te=Xe(n),re=ge(n),Ne=te||re,J=(ie||Qe(n))&&D(n.value)&&D(F)||ke(n)&&n.value===""||F===""||Array.isArray(F)&&!F.length,ae=Ot.bind(null,T,t,R),Z=(V,x,E,U=z.maxLength,G=z.minLength)=>{const Q=V?x:E;R[T]={type:V?U:G,message:Q,ref:n,...ae(V?U:G,Q)}};if(a?!Array.isArray(F)||!F.length:v&&(!Ne&&(J||L(F))||X(F)&&!F||re&&!jt(u).isValid||te&&!Lt(u).isValid)){const{value:V,message:x}=xe(v)?{value:!!v,message:v}:ue(v);if(V&&(R[T]={type:z.required,message:x,ref:B,...ae(z.required,x)},!t))return q(x),R}if(!J&&(!L(_)||!L(b))){let V,x;const E=ue(b),U=ue(_);if(!L(F)&&!isNaN(F)){const G=n.valueAsNumber||F&&+F;L(E.value)||(V=G>E.value),L(U.value)||(x=G<U.value)}else{const G=n.valueAsDate||new Date(F),Q=pe=>new Date(new Date().toDateString()+" "+pe),ne=n.type=="time",ye=n.type=="week";Y(E.value)&&F&&(V=ne?Q(F)>Q(E.value):ye?F>E.value:G>new Date(E.value)),Y(U.value)&&F&&(x=ne?Q(F)<Q(U.value):ye?F<U.value:G<new Date(U.value))}if((V||x)&&(Z(!!V,E.message,U.message,z.max,z.min),!t))return q(R[T].message),R}if((y||m)&&!J&&(Y(F)||a&&Array.isArray(F))){const V=ue(y),x=ue(m),E=!L(V.value)&&F.length>+V.value,U=!L(x.value)&&F.length<+x.value;if((E||U)&&(Z(E,V.message,x.message),!t))return q(R[T].message),R}if(p&&!J&&Y(F)){const{value:V,message:x}=ue(p);if(Ce(V)&&!F.match(V)&&(R[T]={type:z.pattern,message:x,ref:n,...ae(z.pattern,x)},!t))return q(x),R}if(I){if(se(I)){const V=await I(F,s),x=ft(V,B);if(x&&(R[T]={...x,...ae(z.validate,x.message)},!t))return q(x.message),R}else if(O(I)){let V={};for(const x in I){if(!W(V)&&!t)break;const E=ft(await I[x](F,s),B,x);E&&(V={...E,...ae(x,E.message)},q(E.message),t&&(R[T]=V))}if(!W(V)&&(R[T]={ref:B,...V},!t))return R}}return q(!0),R};function cr(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=D(e)?r++:e[s[r++]];return e}function fr(e){for(const s in e)if(e.hasOwnProperty(s)&&!D(e[s]))return!1;return!0}function j(e,s){const t=Array.isArray(s)?s:Je(s)?[s]:Tt(s),r=t.length===1?e:cr(e,t),a=t.length-1,n=t[a];return r&&delete r[n],a!==0&&(O(r)&&W(r)||Array.isArray(r)&&fr(r))&&j(e,t.slice(0,-1)),e}function Ue(){let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}}var Se=e=>L(e)||!At(e);function oe(e,s){if(Se(e)||Se(s))return e===s;if(ce(e)&&ce(s))return e.getTime()===s.getTime();const t=Object.keys(e),r=Object.keys(s);if(t.length!==r.length)return!1;for(const a of t){const n=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const u=s[a];if(ce(n)&&ce(u)||O(n)&&O(u)||Array.isArray(n)&&Array.isArray(u)?!oe(n,u):n!==u)return!1}}return!0}var It=e=>e.type==="select-multiple",dr=e=>Xe(e)||ge(e),Me=e=>ke(e)&&e.isConnected,Ut=e=>{for(const s in e)if(se(e[s]))return!0;return!1};function De(e,s={}){const t=Array.isArray(e);if(O(e)||t)for(const r in e)Array.isArray(e[r])||O(e[r])&&!Ut(e[r])?(s[r]=Array.isArray(e[r])?[]:{},De(e[r],s[r])):L(e[r])||(s[r]=!0);return s}function Mt(e,s,t){const r=Array.isArray(e);if(O(e)||r)for(const a in e)Array.isArray(e[a])||O(e[a])&&!Ut(e[a])?D(s)||Se(t[a])?t[a]=Array.isArray(e[a])?De(e[a],[]):{...De(e[a])}:Mt(e[a],L(s)?{}:s[a],t[a]):t[a]=!oe(e[a],s[a]);return t}var Be=(e,s)=>Mt(e,s,De(s)),Bt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>D(e)?e:s?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):r?r(e):e;function $e(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return Qe(s)?s.files:Xe(s)?Lt(e.refs).value:It(s)?[...s.selectedOptions].map(({value:t})=>t):ge(s)?jt(e.refs).value:Bt(D(s.value)?e.ref.value:s.value,e)}var yr=(e,s,t,r)=>{const a={};for(const n of e){const u=f(s,n);u&&A(a,n,u._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:r}},he=e=>D(e)?e:Ce(e)?e.source:O(e)?Ce(e.value)?e.value.source:e.value:e,hr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function yt(e,s,t){const r=f(e,t);if(r||Je(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),u=f(s,n),v=f(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(v&&v.type)return{name:n,error:v};a.pop()}return{name:t}}var vr=(e,s,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?r.isOnBlur:a.isOnBlur)?!e:(t?r.isOnChange:a.isOnChange)?e:!0,gr=(e,s)=>!me(f(e,s)).length&&j(e,s);const mr={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function pr(e={},s){let t={...mr,...e},r={submitCount:0,isDirty:!1,isLoading:se(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},a={},n=O(t.defaultValues)||O(t.values)?H(t.defaultValues||t.values)||{}:{},u=t.shouldUnregister?{}:H(n),v={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},m,_=0;const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Ue(),array:Ue(),state:Ue()},I=e.resetOptions&&e.resetOptions.keepDirtyValues,T=nt(t.mode),ie=nt(t.reValidateMode),ee=t.criteriaMode===K.all,de=i=>o=>{clearTimeout(_),_=setTimeout(i,o)},F=async i=>{if(b.isValid||i){const o=t.resolver?W((await J()).errors):await Z(a,!0);o!==r.isValid&&p.state.next({isValid:o})}},B=i=>b.isValidating&&p.state.next({isValidating:i}),q=(i,o=[],l,h,d=!0,c=!0)=>{if(h&&l){if(v.action=!0,c&&Array.isArray(f(a,i))){const g=l(f(a,i),h.argA,h.argB);d&&A(a,i,g)}if(c&&Array.isArray(f(r.errors,i))){const g=l(f(r.errors,i),h.argA,h.argB);d&&A(r.errors,i,g),gr(r.errors,i)}if(b.touchedFields&&c&&Array.isArray(f(r.touchedFields,i))){const g=l(f(r.touchedFields,i),h.argA,h.argB);d&&A(r.touchedFields,i,g)}b.dirtyFields&&(r.dirtyFields=Be(n,u)),p.state.next({name:i,isDirty:x(i,o),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else A(u,i,o)},R=(i,o)=>{A(r.errors,i,o),p.state.next({errors:r.errors})},te=(i,o,l,h)=>{const d=f(a,i);if(d){const c=f(u,i,D(l)?f(n,i):l);D(c)||h&&h.defaultChecked||o?A(u,i,o?c:$e(d._f)):G(i,c),v.mount&&F()}},re=(i,o,l,h,d)=>{let c=!1,g=!1;const C={name:i};if(!l||h){b.isDirty&&(g=r.isDirty,r.isDirty=C.isDirty=x(),c=g!==C.isDirty);const N=oe(f(n,i),o);g=f(r.dirtyFields,i),N?j(r.dirtyFields,i):A(r.dirtyFields,i,!0),C.dirtyFields=r.dirtyFields,c=c||b.dirtyFields&&g!==!N}if(l){const N=f(r.touchedFields,i);N||(A(r.touchedFields,i,l),C.touchedFields=r.touchedFields,c=c||b.touchedFields&&N!==l)}return c&&d&&p.state.next(C),c?C:{}},Ne=(i,o,l,h)=>{const d=f(r.errors,i),c=b.isValid&&X(o)&&r.isValid!==o;if(e.delayError&&l?(m=de(()=>R(i,l)),m(e.delayError)):(clearTimeout(_),m=null,l?A(r.errors,i,l):j(r.errors,i)),(l?!oe(d,l):d)||!W(h)||c){const g={...h,...c&&X(o)?{isValid:o}:{},errors:r.errors,name:i};r={...r,...g},p.state.next(g)}B(!1)},J=async i=>t.resolver(u,t.context,yr(i||y.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),ae=async i=>{const{errors:o}=await J(i);if(i)for(const l of i){const h=f(o,l);h?A(r.errors,l,h):j(r.errors,l)}else r.errors=o;return o},Z=async(i,o,l={valid:!0})=>{for(const h in i){const d=i[h];if(d){const{_f:c,...g}=d;if(c){const C=y.array.has(c.name),N=await dt(d,u,ee,t.shouldUseNativeValidation&&!o,C);if(N[c.name]&&(l.valid=!1,o))break;!o&&(f(N,c.name)?C?ur(r.errors,N,c.name):A(r.errors,c.name,N[c.name]):j(r.errors,c.name))}g&&await Z(g,o,l)}}return l.valid},V=()=>{for(const i of y.unMount){const o=f(a,i);o&&(o._f.refs?o._f.refs.every(l=>!Me(l)):!Me(o._f.ref))&&Oe(i)}y.unMount=new Set},x=(i,o)=>(i&&o&&A(u,i,o),!oe(Ye(),n)),E=(i,o,l)=>Nt(i,y,{...v.mount?u:D(o)?n:Y(i)?{[i]:o}:o},l,o),U=i=>me(f(v.mount?u:n,i,e.shouldUnregister?f(n,i,[]):[])),G=(i,o,l={})=>{const h=f(a,i);let d=o;if(h){const c=h._f;c&&(!c.disabled&&A(u,i,Bt(o,c)),d=ke(c.ref)&&L(o)?"":o,It(c.ref)?[...c.ref.options].forEach(g=>g.selected=d.includes(g.value)):c.refs?ge(c.ref)?c.refs.length>1?c.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(C=>C===g.value):d===g.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(g=>g.checked=g.value===d):Qe(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||p.values.next({name:i,values:{...u}})))}(l.shouldDirty||l.shouldTouch)&&re(i,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Te(i)},Q=(i,o,l)=>{for(const h in o){const d=o[h],c=`${i}.${h}`,g=f(a,c);(y.array.has(i)||!Se(d)||g&&!g._f)&&!ce(d)?Q(c,d,l):G(c,d,l)}},ne=(i,o,l={})=>{const h=f(a,i),d=y.array.has(i),c=H(o);A(u,i,c),d?(p.array.next({name:i,values:{...u}}),(b.isDirty||b.dirtyFields)&&l.shouldDirty&&p.state.next({name:i,dirtyFields:Be(n,u),isDirty:x(i,c)})):h&&!h._f&&!L(c)?Q(i,c,l):G(i,c,l),ot(i,y)&&p.state.next({...r}),p.values.next({name:i,values:{...u}}),!v.mount&&s()},ye=async i=>{const o=i.target;let l=o.name,h=!0;const d=f(a,l),c=()=>o.type?$e(d._f):kt(i),g=C=>{h=Number.isNaN(C)||C===f(u,l,C)};if(d){let C,N;const _e=c(),le=i.type===Ae.BLUR||i.type===Ae.FOCUS_OUT,Kt=!hr(d._f)&&!t.resolver&&!f(r.errors,l)&&!d._f.deps||vr(le,f(r.touchedFields,l),r.isSubmitted,ie,T),Le=ot(l,y,le);A(u,l,_e),le?(d._f.onBlur&&d._f.onBlur(i),m&&m(0)):d._f.onChange&&d._f.onChange(i);const Ie=re(l,_e,le,!1),Jt=!W(Ie)||Le;if(!le&&p.values.next({name:l,type:i.type,values:{...u}}),Kt)return b.isValid&&F(),Jt&&p.state.next({name:l,...Le?{}:Ie});if(!le&&Le&&p.state.next({...r}),B(!0),t.resolver){const{errors:it}=await J([l]);if(g(_e),h){const Qt=yt(r.errors,a,l),at=yt(it,a,Qt.name||l);C=at.error,l=at.name,N=W(it)}}else C=(await dt(d,u,ee,t.shouldUseNativeValidation))[l],g(_e),h&&(C?N=!1:b.isValid&&(N=await Z(a,!0)));h&&(d._f.deps&&Te(d._f.deps),Ne(l,N,C,Ie))}},pe=(i,o)=>{if(f(r.errors,o)&&i.focus)return i.focus(),1},Te=async(i,o={})=>{let l,h;const d=Fe(i);if(B(!0),t.resolver){const c=await ae(D(i)?i:d);l=W(c),h=i?!d.some(g=>f(c,g)):l}else i?(h=(await Promise.all(d.map(async c=>{const g=f(a,c);return await Z(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!h&&!r.isValid)&&F()):h=l=await Z(a);return p.state.next({...!Y(i)||b.isValid&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors,isValidating:!1}),o.shouldFocus&&!h&&be(a,pe,i?d:y.mount),h},Ye=i=>{const o={...n,...v.mount?u:{}};return D(i)?o:Y(i)?f(o,i):i.map(l=>f(o,l))},Ze=(i,o)=>({invalid:!!f((o||r).errors,i),isDirty:!!f((o||r).dirtyFields,i),isTouched:!!f((o||r).touchedFields,i),error:f((o||r).errors,i)}),qt=i=>{i&&Fe(i).forEach(o=>j(r.errors,o)),p.state.next({errors:i?r.errors:{}})},ze=(i,o,l)=>{const h=(f(a,i,{_f:{}})._f||{}).ref;A(r.errors,i,{...o,ref:h}),p.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Gt=(i,o)=>se(i)?p.values.subscribe({next:l=>i(E(void 0,o),l)}):E(i,o,!0),Oe=(i,o={})=>{for(const l of i?Fe(i):y.mount)y.mount.delete(l),y.array.delete(l),o.keepValue||(j(a,l),j(u,l)),!o.keepError&&j(r.errors,l),!o.keepDirty&&j(r.dirtyFields,l),!o.keepTouched&&j(r.touchedFields,l),!t.shouldUnregister&&!o.keepDefaultValue&&j(n,l);p.values.next({values:{...u}}),p.state.next({...r,...o.keepDirty?{isDirty:x()}:{}}),!o.keepIsValid&&F()},Pe=({disabled:i,name:o,field:l,fields:h,value:d})=>{if(X(i)){const c=i?void 0:D(d)?$e(l?l._f:f(h,o)._f):d;A(u,o,c),re(o,c,!1,!1,!0)}},je=(i,o={})=>{let l=f(a,i);const h=X(o.disabled);return A(a,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...o}}),y.mount.add(i),l?Pe({field:l,disabled:o.disabled,name:i}):te(i,!0,o.value),{...h?{disabled:o.disabled}:{},...t.progressive?{required:!!o.required,min:he(o.min),max:he(o.max),minLength:he(o.minLength),maxLength:he(o.maxLength),pattern:he(o.pattern)}:{},name:i,onChange:ye,onBlur:ye,ref:d=>{if(d){je(i,o),l=f(a,i);const c=D(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=dr(c),C=l._f.refs||[];if(g?C.find(N=>N===c):c===l._f.ref)return;A(a,i,{_f:{...l._f,...g?{refs:[...C.filter(Me),c,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),te(i,!1,void 0,c)}else l=f(a,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||o.shouldUnregister)&&!(Ct(y.array,i)&&v.action)&&y.unMount.add(i)}}},et=()=>t.shouldFocusError&&be(a,pe,y.mount),Wt=i=>{X(i)&&(p.state.next({disabled:i}),be(a,o=>{o.disabled=i},0,!1))},tt=(i,o)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let h=H(u);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:c}=await J();r.errors=d,h=c}else await Z(a);j(r.errors,"root"),W(r.errors)?(p.state.next({errors:{}}),await i(h,l)):(o&&await o({...r.errors},l),et(),setTimeout(et)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ht=(i,o={})=>{f(a,i)&&(D(o.defaultValue)?ne(i,f(n,i)):(ne(i,o.defaultValue),A(n,i,o.defaultValue)),o.keepTouched||j(r.touchedFields,i),o.keepDirty||(j(r.dirtyFields,i),r.isDirty=o.defaultValue?x(i,f(n,i)):x()),o.keepError||(j(r.errors,i),b.isValid&&F()),p.state.next({...r}))},rt=(i,o={})=>{const l=i?H(i):n,h=H(l),d=i&&!W(i)?h:n;if(o.keepDefaultValues||(n=l),!o.keepValues){if(o.keepDirtyValues||I)for(const c of y.mount)f(r.dirtyFields,c)?A(d,c,f(u,c)):ne(c,f(d,c));else{if(We&&D(i))for(const c of y.mount){const g=f(a,c);if(g&&g._f){const C=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(ke(C)){const N=C.closest("form");if(N){N.reset();break}}}}a={}}u=e.shouldUnregister?o.keepDefaultValues?H(n):{}:H(d),p.array.next({values:{...d}}),p.values.next({values:{...d}})}y={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&s(),v.mount=!b.isValid||!!o.keepIsValid,v.watch=!!e.shouldUnregister,p.state.next({submitCount:o.keepSubmitCount?r.submitCount:0,isDirty:o.keepDirty?r.isDirty:!!(o.keepDefaultValues&&!oe(i,n)),isSubmitted:o.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:o.keepDirtyValues?r.dirtyFields:o.keepDefaultValues&&i?Be(n,i):{},touchedFields:o.keepTouched?r.touchedFields:{},errors:o.keepErrors?r.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(i,o)=>rt(se(i)?i(u):i,o);return{control:{register:je,unregister:Oe,getFieldState:Ze,handleSubmit:tt,setError:ze,_executeSchema:J,_getWatch:E,_getDirty:x,_updateValid:F,_removeUnmounted:V,_updateFieldArray:q,_updateDisabledField:Pe,_getFieldArray:U,_reset:rt,_resetDefaultValues:()=>se(t.defaultValues)&&t.defaultValues().then(i=>{st(i,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Wt,_subjects:p,_proxyFormState:b,get _fields(){return a},get _formValues(){return u},get _state(){return v},set _state(i){v=i},get _defaultValues(){return n},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:Te,register:je,handleSubmit:tt,watch:Gt,setValue:ne,getValues:Ye,reset:st,resetField:Ht,clearErrors:qt,unregister:Oe,setError:ze,setFocus:(i,o={})=>{const l=f(a,i),h=l&&l._f;if(h){const d=h.refs?h.refs[0]:h.ref;d.focus&&(d.focus(),o.shouldSelect&&d.select())}},getFieldState:Ze}}function Tr(e={}){const s=S.useRef(),t=S.useRef(),[r,a]=S.useState({isDirty:!1,isValidating:!1,isLoading:se(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:se(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...pr(e,()=>a(u=>({...u}))),formState:r});const n=s.current.control;return n._options=e,Ke({subject:n._subjects.state,next:u=>{Et(u,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),S.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),S.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==r.isDirty&&n._subjects.state.next({isDirty:u})}},[n,r.isDirty]),S.useEffect(()=>{e.values&&!oe(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values):n._resetDefaultValues()},[e.values,n]),S.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=Dt(r,n),s.current}var ht=function(e,s,t){if(e&&"reportValidity"in e){var r=f(t,s);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},$t=function(e,s){var t=function(a){var n=s.fields[a];n&&n.ref&&"reportValidity"in n.ref?ht(n.ref,a,e):n.refs&&n.refs.forEach(function(u){return ht(u,a,e)})};for(var r in s.fields)t(r)},_r=function(e,s){s.shouldUseNativeValidation&&$t(e,s);var t={};for(var r in e){var a=f(s.fields,r),n=Object.assign(e[r]||{},{ref:a&&a.ref});if(br(s.names||Object.keys(e),r)){var u=Object.assign({},Fr(f(t,r)));A(u,"root",n),A(t,r,u)}else A(t,r,n)}return t},Fr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},br=function(e,s){return e.some(function(t){return t.startsWith(s+".")})};function Or(e,s,t){return s===void 0&&(s={}),t===void 0&&(t={}),function(r,a,n){try{return Promise.resolve(function(u,v){try{var y=(s.context,Promise.resolve(e[t.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},s,{context:a}))).then(function(m){return n.shouldUseNativeValidation&&$t({},n),{values:t.raw?r:m,errors:{}}}))}catch(m){return v(m)}return y&&y.then?y.then(void 0,v):y}(0,function(u){if(!u.inner)throw u;return{values:{},errors:_r((v=u,y=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(v.inner||[]).reduce(function(m,_){if(m[_.path]||(m[_.path]={message:_.message,type:_.type}),y){var b=m[_.path].types,p=b&&b[_.type];m[_.path]=Ot(_.path,y,m,_.type,p?[].concat(p,_.message):_.message)}return m},{})),n)};var v,y}))}catch(u){return Promise.reject(u)}}}export{Nr as C,Dr as F,Er as I,Rr as a,He as b,Vt as c,Or as o,Tr as u};
