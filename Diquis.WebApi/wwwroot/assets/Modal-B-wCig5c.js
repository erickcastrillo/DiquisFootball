import{r as o,u as m,j as n,c as d,s as Te}from"./index-B9lOP-LQ.js";import{c as K,r as W,o as Ee,a as ke}from"./listen-DOhMskc_.js";import{u as Be}from"./useCallbackRef-B-qOTvYu.js";import{u as z}from"./useEventCallback-B-qJwqMD.js";import{u as Ae}from"./useMergedRefs-DJgFqpix.js";import{u as $e}from"./hasClass-C7eJW1sn.js";import{t as De}from"./TransitionWrapper-BLPpPSai.js";import{A as Fe,M as Oe,B as Ie,g as xe}from"./AbstractModalHeader-CEqb6A66.js";import{F as q}from"./Fade-Dtw2Fl4v.js";import{d as He}from"./divWithClassName-_xz-H_CW.js";var y;function _(e){if((!y&&y!==0||e)&&K){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),y=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return y}const G=o.forwardRef(({className:e,bsPrefix:a,as:s="div",...l},r)=>(a=m(a,"modal-body"),n.jsx(s,{ref:r,className:d(e,a),...l})));G.displayName="ModalBody";const T=o.forwardRef(({bsPrefix:e,className:a,contentClassName:s,centered:l,size:r,fullscreen:i,children:w,scrollable:R,...v},N)=>{e=m(e,"modal");const f=`${e}-dialog`,c=typeof i=="string"?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return n.jsx("div",{...v,ref:N,className:d(f,a,r&&`${e}-${r}`,l&&`${f}-centered`,R&&`${f}-scrollable`,i&&c),children:n.jsx("div",{className:d(`${e}-content`,s),children:w})})});T.displayName="ModalDialog";const J=o.forwardRef(({className:e,bsPrefix:a,as:s="div",...l},r)=>(a=m(a,"modal-footer"),n.jsx(s,{ref:r,className:d(e,a),...l})));J.displayName="ModalFooter";const Q=o.forwardRef(({bsPrefix:e,className:a,closeLabel:s="Close",closeButton:l=!1,...r},i)=>(e=m(e,"modal-header"),n.jsx(Fe,{ref:i,...r,className:d(a,e),closeLabel:s,closeButton:l})));Q.displayName="ModalHeader";const Ue=He("h4"),V=o.forwardRef(({className:e,bsPrefix:a,as:s=Ue,...l},r)=>(a=m(a,"modal-title"),n.jsx(s,{ref:r,className:d(e,a),...l})));V.displayName="ModalTitle";function be(e){return n.jsx(q,{...e,timeout:null})}function Le(e){return n.jsx(q,{...e,timeout:null})}const X=o.forwardRef(({bsPrefix:e,className:a,style:s,dialogClassName:l,contentClassName:r,children:i,dialogAs:w=T,"aria-labelledby":R,"aria-describedby":v,"aria-label":N,show:f=!1,animation:c=!0,backdrop:h=!0,keyboard:Y=!0,onEscapeKeyDown:E,onShow:Z,onHide:M,container:P,autoFocus:ee=!0,enforceFocus:te=!0,restoreFocus:ae=!0,restoreFocusOptions:oe,onEntered:ne,onExit:k,onExiting:re,onEnter:B,onEntering:A,onExited:$,backdropClassName:D,manager:F,...se},le)=>{const[de,ie]=o.useState({}),[ce,O]=o.useState(!1),S=o.useRef(!1),j=o.useRef(!1),g=o.useRef(null),[p,ue]=Be(),me=Ae(le,ue),I=z(M),fe=Te();e=m(e,"modal");const ge=o.useMemo(()=>({onHide:I}),[I]);function x(){return F||xe({isRTL:fe})}function H(t){if(!K)return;const u=x().getScrollbarWidth()>0,L=t.scrollHeight>Ee(t).documentElement.clientHeight;ie({paddingRight:u&&!L?_():void 0,paddingLeft:!u&&L?_():void 0})}const C=z(()=>{p&&H(p.dialog)});$e(()=>{W(window,"resize",C),g.current==null||g.current()});const pe=()=>{S.current=!0},he=t=>{S.current&&p&&t.target===p.dialog&&(j.current=!0),S.current=!1},U=()=>{O(!0),g.current=De(p.dialog,()=>{O(!1)})},Me=t=>{t.target===t.currentTarget&&U()},ye=t=>{if(h==="static"){Me(t);return}if(j.current||t.target!==t.currentTarget){j.current=!1;return}M==null||M()},we=t=>{Y?E==null||E(t):(t.preventDefault(),h==="static"&&U())},Re=(t,u)=>{t&&H(t),B==null||B(t,u)},ve=t=>{g.current==null||g.current(),k==null||k(t)},Ne=(t,u)=>{A==null||A(t,u),ke(window,"resize",C)},Se=t=>{t&&(t.style.display=""),$==null||$(t),W(window,"resize",C)},je=o.useCallback(t=>n.jsx("div",{...t,className:d(`${e}-backdrop`,D,!c&&"show")}),[c,D,e]),b={...s,...de};b.display="block";const Ce=t=>n.jsx("div",{role:"dialog",...t,style:b,className:d(a,e,ce&&`${e}-static`,!c&&"show"),onClick:h?ye:void 0,onMouseUp:he,"aria-label":N,"aria-labelledby":R,"aria-describedby":v,children:n.jsx(w,{...se,onMouseDown:pe,className:l,contentClassName:r,children:i})});return n.jsx(Oe.Provider,{value:ge,children:n.jsx(Ie,{show:f,ref:me,backdrop:h,container:P,keyboard:!0,autoFocus:ee,enforceFocus:te,restoreFocus:ae,restoreFocusOptions:oe,onEscapeKeyDown:we,onShow:Z,onHide:M,onEnter:Re,onEntering:Ne,onEntered:ne,onExit:ve,onExiting:re,onExited:Se,manager:x(),transition:c?be:void 0,backdropTransition:c?Le:void 0,renderBackdrop:je,renderDialog:Ce})})});X.displayName="Modal";const Ye=Object.assign(X,{Body:G,Header:Q,Title:V,Footer:J,Dialog:T,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Ye as M};
