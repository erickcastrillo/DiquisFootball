import{r as a,j as h,u as T,c as M,s as ge}from"./index-B9lOP-LQ.js";import{d as Q,q as G}from"./DataKey-COGXBUcQ.js";import{a as we}from"./listen-DOhMskc_.js";import{$ as he,u as xe}from"./import-uFlglm54.js";import{u as ye}from"./usePrevious-mZ2y6jh4.js";import{S as _,N as be,m as V,u as ve}from"./NavContext-B81mbuf8.js";import{u as O}from"./useEventCallback-B-qJwqMD.js";import{u as Ce}from"./useCallbackRef-B-qOTvYu.js";import{a as De,m as Ee,u as ke}from"./mergeOptionsWithPopperConfig-CyKv9ruK.js";import{B as $e}from"./Button-dKWbp8U8.js";import{a as je,u as Ne}from"./useWindow-BKmZcn0M.js";import{u as Pe}from"./hook-BNNKBulH.js";import{A as Re}from"./Anchor-BXsdW2Gf.js";import{u as X}from"./useMergedRefs-DJgFqpix.js";import{c as Y}from"./InputGroupContext-DzKQQVdm.js";import{c as Ie}from"./NavbarContext-BFBOlBU5.js";import{B as Se}from"./Button-474b3BA8.js";function Te(o,e,t,r=!1){const n=O(t);a.useEffect(()=>{const s=typeof o=="function"?o():o;return s.addEventListener(e,n,r),()=>s.removeEventListener(e,n,r)},[o])}const K=a.createContext(null),Me=["children"];function Oe(o,e){if(o==null)return{};var t={},r=Object.keys(o),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}const Ae=()=>{};function Z(o={}){const e=a.useContext(K),[t,r]=Ce(),n=a.useRef(!1),{flip:s,offset:u,rootCloseEvent:i,fixed:d=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:x=!!e}=o,g=(e==null?void 0:e.show)==null?!!o.show:e.show;g&&!n.current&&(n.current=!0);const E=I=>{e==null||e.toggle(!1,I)},{placement:k,setMenu:C,menuElement:P,toggleElement:$}=e||{},w=De($,P,Ee({placement:l||k||"bottom-start",enabled:x,enableEvents:c??g,offset:u,flip:s,fixed:d,arrowElement:t,popperConfig:m})),R=Object.assign({ref:C||Ae,"aria-labelledby":$==null?void 0:$.id},w.attributes.popper,{style:w.styles.popper}),y={show:g,placement:k,hasShown:n.current,toggle:e==null?void 0:e.toggle,popper:x?w:null,arrowProps:x?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return ke(P,E,{clickTrigger:i,disabled:!g}),[R,y]}const Fe={usePopper:!0};function B(o){let{children:e}=o,t=Oe(o,Me);const[r,n]=Z(t);return h.jsx(h.Fragment,{children:e(r,n)})}B.displayName="DropdownMenu";B.defaultProps=Fe;const ee=o=>{var e;return((e=o.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},z=()=>{};function te(){const o=he(),{show:e=!1,toggle:t=z,setToggle:r,menuElement:n}=a.useContext(K)||{},s=a.useCallback(i=>{t(!e,i)},[e,t]),u={id:o,ref:r||z,onClick:s,"aria-expanded":!!e};return n&&ee(n)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function oe({children:o}){const[e,t]=te();return h.jsx(h.Fragment,{children:o(e,t)})}oe.displayName="DropdownToggle";const We=["eventKey","disabled","onClick","active","as"];function Ke(o,e){if(o==null)return{};var t={},r=Object.keys(o),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}function ne({key:o,href:e,active:t,disabled:r,onClick:n}){const s=a.useContext(_),u=a.useContext(be),{activeKey:i}=u||{},d=V(o,e),l=t==null&&o!=null?V(i)===d:t;return[{onClick:O(c=>{r||(n==null||n(c),s&&!c.isPropagationStopped()&&s(d,c))}),"aria-disabled":r||void 0,"aria-selected":l,[Q("dropdown-item")]:""},{isActive:l}]}const re=a.forwardRef((o,e)=>{let{eventKey:t,disabled:r,onClick:n,active:s,as:u=$e}=o,i=Ke(o,We);const[d]=ne({key:t,href:i.href,disabled:r,onClick:n,active:s});return h.jsx(u,Object.assign({},i,{ref:e},d))});re.displayName="DropdownItem";function J(){const o=ve(),e=a.useRef(null),t=a.useCallback(r=>{e.current=r,o()},[o]);return[e,t]}function W({defaultShow:o,show:e,onSelect:t,onToggle:r,itemSelector:n=`* [${Q("dropdown-item")}]`,focusFirstItemOnShow:s,placement:u="bottom-start",children:i}){const d=je(),[l,m]=xe(e,o,r),[c,x]=J(),g=c.current,[E,k]=J(),C=E.current,P=ye(l),$=a.useRef(null),w=a.useRef(!1),R=a.useContext(_),y=a.useCallback((p,f,b=f==null?void 0:f.type)=>{m(p,{originalEvent:f,source:b})},[m]),I=O((p,f)=>{t==null||t(p,f),y(!1,f,"select"),f.isPropagationStopped()||R==null||R(p,f)}),D=a.useMemo(()=>({toggle:y,placement:u,show:l,menuElement:g,toggleElement:C,setMenu:x,setToggle:k}),[y,u,l,g,C,x,k]);g&&P&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const v=O(()=>{C&&C.focus&&C.focus()}),A=O(()=>{const p=$.current;let f=s;if(f==null&&(f=c.current&&ee(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(p))return;const b=G(c.current,n)[0];b&&b.focus&&b.focus()});a.useEffect(()=>{l?A():w.current&&(w.current=!1,v())},[l,w,v,A]),a.useEffect(()=>{$.current=null});const F=(p,f)=>{if(!c.current)return null;const b=G(c.current,n);let N=b.indexOf(p)+f;return N=Math.max(0,Math.min(N,b.length)),b[N]};return Te(a.useCallback(()=>d.document,[d]),"keydown",p=>{var f,b;const{key:N}=p,S=p.target,H=(f=c.current)==null?void 0:f.contains(S),me=(b=E.current)==null?void 0:b.contains(S);if(/input|textarea/i.test(S.tagName)&&(N===" "||N!=="Escape"&&H||N==="Escape"&&S.type==="search")||!H&&!me||N==="Tab"&&(!c.current||!l))return;$.current=p.type;const U={originalEvent:p,source:p.type};switch(N){case"ArrowUp":{const j=F(S,-1);j&&j.focus&&j.focus(),p.preventDefault();return}case"ArrowDown":if(p.preventDefault(),!l)m(!0,U);else{const j=F(S,1);j&&j.focus&&j.focus()}return;case"Tab":we(S.ownerDocument,"keyup",j=>{var q;(j.key==="Tab"&&!j.target||!((q=c.current)!=null&&q.contains(j.target)))&&m(!1,U)},{once:!0});break;case"Escape":N==="Escape"&&(p.preventDefault(),p.stopPropagation()),m(!1,U);break}}),h.jsx(_.Provider,{value:I,children:h.jsx(K.Provider,{value:D,children:i})})}W.displayName="Dropdown";W.Menu=B;W.Toggle=oe;W.Item=re;const L=a.createContext({});L.displayName="DropdownContext";const se=a.forwardRef(({className:o,bsPrefix:e,as:t="hr",role:r="separator",...n},s)=>(e=T(e,"dropdown-divider"),h.jsx(t,{ref:s,className:M(o,e),role:r,...n})));se.displayName="DropdownDivider";const ae=a.forwardRef(({className:o,bsPrefix:e,as:t="div",role:r="heading",...n},s)=>(e=T(e,"dropdown-header"),h.jsx(t,{ref:s,className:M(o,e),role:r,...n})));ae.displayName="DropdownHeader";const ce=a.forwardRef(({bsPrefix:o,className:e,eventKey:t,disabled:r=!1,onClick:n,active:s,as:u=Re,...i},d)=>{const l=T(o,"dropdown-item"),[m,c]=ne({key:t,href:i.href,disabled:r,onClick:n,active:s});return h.jsx(u,{...i,...m,ref:d,className:M(e,l,c.isActive&&"active",r&&"disabled")})});ce.displayName="DropdownItem";const le=a.forwardRef(({className:o,bsPrefix:e,as:t="span",...r},n)=>(e=T(e,"dropdown-item-text"),h.jsx(t,{ref:n,className:M(o,e),...r})));le.displayName="DropdownItemText";function ue(o,e){return o}function ie(o,e,t){const r=t?"top-end":"top-start",n=t?"top-start":"top-end",s=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",i=t?"right-start":"left-start",d=t?"right-end":"left-end",l=t?"left-start":"right-start",m=t?"left-end":"right-end";let c=o?u:s;return e==="up"?c=o?n:r:e==="end"?c=o?m:l:e==="start"?c=o?d:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const de=a.forwardRef(({bsPrefix:o,className:e,align:t,rootCloseEvent:r,flip:n=!0,show:s,renderOnMount:u,as:i="div",popperConfig:d,variant:l,...m},c)=>{let x=!1;const g=a.useContext(Ie),E=T(o,"dropdown-menu"),{align:k,drop:C,isRTL:P}=a.useContext(L);t=t||k;const $=a.useContext(Y),w=[];if(t)if(typeof t=="object"){const p=Object.keys(t);if(p.length){const f=p[0],b=t[f];x=b==="start",w.push(`${E}-${f}-${b}`)}}else t==="end"&&(x=!0);const R=ie(x,C,P),[y,{hasShown:I,popper:D,show:v,toggle:A}]=Z({flip:n,rootCloseEvent:r,show:s,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:d,placement:R});if(y.ref=X(ue(c),y.ref),Ne(()=>{v&&(D==null||D.update())},[v]),!I&&!u&&!$)return null;typeof i!="string"&&(y.show=v,y.close=()=>A==null?void 0:A(!1),y.align=t);let F=m.style;return D!=null&&D.placement&&(F={...m.style,...y.style},m["x-placement"]=D.placement),h.jsx(i,{...m,...y,style:F,...(w.length||g)&&{"data-bs-popper":"static"},className:M(e,E,v&&"show",x&&`${E}-end`,l&&`${E}-${l}`,...w)})});de.displayName="DropdownMenu";const pe=a.forwardRef(({bsPrefix:o,split:e,className:t,childBsPrefix:r,as:n=Se,...s},u)=>{const i=T(o,"dropdown-toggle"),d=a.useContext(K);r!==void 0&&(s.bsPrefix=r);const[l]=te();return l.ref=X(l.ref,ue(u)),h.jsx(n,{className:M(t,i,e&&`${i}-split`,(d==null?void 0:d.show)&&"show"),...l,...s})});pe.displayName="DropdownToggle";const fe=a.forwardRef((o,e)=>{const{bsPrefix:t,drop:r="down",show:n,className:s,align:u="start",onSelect:i,onToggle:d,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:x=!0,...g}=Pe(o,{show:"onToggle"}),E=a.useContext(Y),k=T(t,"dropdown"),C=ge(),P=D=>x===!1?D==="click":x==="inside"?D!=="rootClose":x==="outside"?D!=="select":!0,$=O((D,v)=>{v.originalEvent.currentTarget===document&&(v.source!=="keydown"||v.originalEvent.key==="Escape")&&(v.source="rootClose"),P(v.source)&&(d==null||d(D,v))}),R=ie(u==="end",r,C),y=a.useMemo(()=>({align:u,drop:r,isRTL:C}),[u,r,C]),I={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return h.jsx(L.Provider,{value:y,children:h.jsx(W,{placement:R,show:n,onSelect:i,onToggle:$,focusFirstItemOnShow:l,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:E?g.children:h.jsx(m,{...g,ref:e,className:M(s,n&&"show",I[r])})})})});fe.displayName="Dropdown";const rt=Object.assign(fe,{Toggle:pe,Menu:de,Item:ce,ItemText:le,Divider:se,Header:ae});export{rt as D,pe as a,de as b};
